<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DevAcademy - Courses</title>
  <link rel="stylesheet" href="course.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="icon" type="image/x-icon" href="/images/logo.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <style>
    * {
      font-family: 'Outfit', sans-serif;
    }
  </style>
</head>

<body>
  <header class="main-header">
    <div class="header-container">
      <nav class="navbar">
        <!-- Logo -->
        <a href="/" class="brand-logo" aria-label="DevAcademy Home">
          <img src="/images/logo2-removebg-preview.png" alt="DevAcademy Logo">
          {{!-- <span class="brand-text">DevAcademy</span> --}}
        </a>

        <!-- Desktop Navigation -->
        <ul class="nav-links-desktop">
          <li><a href="/" class="nav-link">Home</a></li>
          <li><a href="/course" class="nav-link active">Courses</a></li>
          <li><a href="/#interactive" class="nav-link">Code</a></li>
          <li><a href="/quiz" class="nav-link">Quiz</a></li>
        </ul>

        <!-- Auth Buttons & Cart -->
        <div class="header-actions">
          <!-- Cart Link -->
          <a href="/payment/checkout" class="cart-link" title="Checkout">
            <span class="material-symbols-outlined">shopping_cart</span>
            <span class="cart-badge" id="cartBadgeNav" style="display: none;">0</span>
          </a>

          {{#if isLoggedIn}}
          <a href="/dashboard" class="action-btn dashboard-btn">
            <span class="material-symbols-outlined">dashboard</span>
            Dashboard
          </a>
          <a href="/logout" class="action-btn logout-btn">
            <span class="material-symbols-outlined">logout</span>
          </a>
          {{else}}
          <a href="/login" class="action-btn login-btn">Login</a>
          <a href="/signup" class="action-btn signup-btn">Get Started</a>
          {{/if}}

          <!-- Mobile Menu Trigger -->
          <button class="mobile-menu-btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"
            aria-controls="offcanvasRight" aria-label="Open menu">
            <svg class="hamburger-icon" viewBox="0 0 24 24" width="32" height="32">
              <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" />
            </svg>
          </button>
        </div>
      </nav>
    </div>

    <!-- Mobile Menu Offcanvas -->
    <div class="offcanvas offcanvas-end custom-offcanvas" tabindex="-1" id="offcanvasRight"
      aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">Menu</h5>
        <button type="button" class="btn-close-custom" data-bs-dismiss="offcanvas" aria-label="Close">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <div class="offcanvas-body">
        <div class="mobile-nav-links">
          <a href="/" class="mobile-link">
            <span class="material-symbols-outlined">home</span> Home
          </a>
          <a href="/course" class="mobile-link active" style="color: #3f10fa; background: #f8fafc;">
            <span class="material-symbols-outlined">school</span> Courses
          </a>
          <a href="/#interactive" class="mobile-link">
            <span class="material-symbols-outlined">code</span> Code Editor
          </a>
          <a href="/quiz" class="mobile-link">
            <span class="material-symbols-outlined">quiz</span> Quiz
          </a>
          <a href="/payment/checkout" class="mobile-link">
            <span class="material-symbols-outlined">shopping_cart</span> Cart
            <span class="badge bg-danger ms-2" id="cartBadgeMobile" style="font-size: 0.8em; display: none;">0</span>
          </a>
        </div>

        <div class="mobile-auth-actions">
          {{#if isLoggedIn}}
          <a href="/dashboard" class="mobile-btn dashboard">Dashboard</a>
          <a href="/logout" class="mobile-btn logout">Logout</a>
          {{else}}
          <a href="/login" class="mobile-btn login">Login</a>
          <a href="/signup" class="mobile-btn signup">Sign Up Free</a>
          {{/if}}
        </div>
      </div>
    </div>
  </header>

  <section class="first-section">
    <h1>Courses</h1>
    <p>Discover a world of knowledge with top instructors and specialized courses
    </p>
    <br>
    <input class="form-control" list="datalistOptions" id="exampleDataList" placeholder="Type to search...">
    <div class="category">
      <button data-category="all">All</button>
      <button data-category="web">Web</button>
      <button data-category="ai">AI</button>
      <button data-category="python">Python</button>
      <button data-category="conception">Conception</button>
    </div>
    <hr>

  </section>


  <section class="second-section">
    <div class="courses" id="coursesContainer">
      {{#if courses}}
      {{#each courses}}
      <article class="course-card" data-course-id="{{course_id}}"
        data-category="{{#if category}}{{category}}{{else}}web{{/if}}">
        <div class="card-image-wrapper">
          <button class="add-cart-btn" onclick="addToCart(event, '{{course_id}}')" title="Add to Cart">
            <span class="material-symbols-outlined">add_shopping_cart</span>
          </button>
          <img src="{{thumbnail_url}}" alt="{{title}}" loading="lazy" onerror="this.src='/images/front-end-1.jpg'">
          <div class="price-badge">{{price}} DA</div>
          <div class="overlay-hover"></div>
        </div>

        <div class="card-content">
          <div class="card-header">
            <span class="level-tag">{{#if level}}{{level}}{{else}}Beginner{{/if}}</span>
            <div class="rating">
              <span class="material-symbols-outlined filled">star</span>
              <span>5.0</span>
            </div>
          </div>

          <a href="/course/course-view?id={{course_id}}" class="card-title">
            <h3>{{title}}</h3>
          </a>

          {{#if skills}}
          <div class="skills-preview">
            {{#each (split skills ",")}}
            <div class="skill-pill">
              <span class="material-symbols-outlined">check_small</span>
              {{trim this}}
            </div>
            {{/each}}
          </div>
          {{else}}
          <p class="card-description">{{description}}</p>
          {{/if}}

          <div class="card-separator"></div>

          <div class="card-meta">
            <div class="meta-item">
              <span class="material-symbols-outlined">schedule</span>
              {{duration_hours}}h
            </div>
            <div class="meta-item">
              <span class="material-symbols-outlined">play_circle</span>
              {{lessons_count}} Lessons
            </div>
          </div>

          <div class="card-footer">
            <div class="instructor-profile">
              <span class="material-symbols-outlined" style="font-size: 20px; color: #666;">person</span>
              <span>Akram Melihi</span>
            </div>
            <button class="view-course-btn" onclick="window.location.href='/course/course-view?id={{course_id}}'">
              View Course
              <span class="material-symbols-outlined">arrow_forward</span>
            </button>
          </div>
        </div>
      </article>
      {{/each}}
      {{else}}
      <div class="no-courses">
        <div class="empty-state">
          <span class="material-symbols-outlined">search_off</span>
          <h3>No Courses Found</h3>
          <p>We couldn't find any courses matching your criteria. Try adjusting your search.</p>
        </div>
      </div>
      {{/if}}
    </div>

  </section>
  <section class="copyright">
    <p>All rights reserved Â© 2025 DevAcademy</p>
  </section>

  <script src="/js/cart-utils.js"></script>
  <script src="/course.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
</body>

</html>